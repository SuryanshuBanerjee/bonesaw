pipeline:
  name: backup_important_files
  steps:
    # Find all markdown files in current directory
    - type: list_files
      directory: "."
      pattern: "**/*.md"

    # Create JSON list of found files
    - type: to_json
      indent: 2

    # Save file list
    - type: write_file
      path: examples/backup_automation/files_backup_log.json

    # Create a simple backup summary
    - type: template
      template: |
        # ðŸ’¾ Backup Report

        **Date**: {context[timestamp]}
        **Files found**: {context[file_count]}

        ## Files Backed Up

        See `files_backup_log.json` for full list.

        Generated by Bonesaw ðŸ¦´

    - type: write_file
      path: examples/backup_automation/backup_report.md
